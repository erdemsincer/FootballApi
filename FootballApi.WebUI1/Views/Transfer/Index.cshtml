@{
    Layout = "~/Views/AdminLayout/Index.cshtml";
}

<h1 class="mb-4">Oyuncu Transferi</h1>

<!-- Başarı ve Hata Mesajları -->
@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success">
        @TempData["SuccessMessage"]
    </div>
}

@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger">
        @TempData["ErrorMessage"]
    </div>
}

<!-- Transfer Formu -->
<form asp-action="Transfer" method="post" class="mt-4">
    <div class="form-group mb-3">
        <label for="playerId">Oyuncu Seç</label>
        <select id="playerId" name="playerId" class="form-control">
            @if (ViewBag.Players is IEnumerable<FootballApi.Application.Dtos.PlayerDto> players && players.Any())
            {
                @foreach (var player in players)
                {
                    <option value="@player.Id">
                        @player.Name (@player.TeamId ?? "Takımsız")
                    </option>
                }
            }
            else
            {
                <option value="">Oyuncu bulunamadı</option>
            }
        </select>
    </div>

    <div class="form-group mb-3">
        <label for="newTeamId">Yeni Takım Seç</label>
        <select id="newTeamId" name="newTeamId" class="form-control">
            @if (ViewBag.Teams is IEnumerable<FootballApi.Application.Dtos.TeamDto> teams && teams.Any())
            {
                @foreach (var team in teams)
                {
                    <option value="@team.Id">@team.Name</option>
                }
            }
            else
            {
                <option value="">Takım bulunamadı</option>
            }
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Transfer Et</button>
</form>
